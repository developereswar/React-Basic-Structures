(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{121:function(e,a,t){e.exports=t(252)},126:function(e,a,t){},252:function(e,a,t){"use strict";t.r(a);var l=t(0),r=t.n(l),n=t(27),c=t.n(n),o=(t(126),t(127),t(12)),s=t(9),m=t(107),i=t(13);const d={productTypes:[{name:"Sofa",id:1},{name:"Table",id:2},{name:"Chari",id:3}]},u=Object(s.c)({appReducer:(e=d,a)=>{switch(a.type){case"GET_CUSTOMERS":return e.customerList=[...a.payload],Object(i.a)({},e);case"IS_LOGIN":return e.userDetails=Object(i.a)({},a.payload),Object(i.a)({},e);case"PRODUCT_CATEGORIES":default:return Object(i.a)({},e)}}}),p=Object(s.d)(u,Object(s.a)(m.a));var E=t(11),b=t(6),h=t(119);const g=e=>{let a=e.component,t=Object(h.a)(e,["component"]);return r.a.createElement("div",{className:"App"},r.a.createElement(b.b,Object.assign({},t,{render:e=>localStorage.getItem("accessToken")?r.a.createElement(a,e):r.a.createElement(b.a,{to:{pathname:"/login",state:{from:e.location}}})})))};var N=t(257),v=t(259);function f(){let e=localStorage.getItem("accessToken");Object(b.g)();return e&&r.a.createElement(N.a,{expand:"lg",className:"bg_blue"},r.a.createElement(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(N.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},r.a.createElement(v.a,null,r.a.createElement(v.a.Link,null,"My Profile"))))}var w=t(254),O=t(255),C=t(113),y=t(260),S=t(58),k=t.n(S);const j="http://localhost:8080/api/v1",x={login:"".concat(j,"/login"),registerWorker:"".concat(j,"/register"),customerLists:"".concat(j,"/customer_lists")},L={headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}},I=()=>e=>{k.a.get(x.customerLists).then(a=>{e({type:"GET_CUSTOMERS",payload:a.data})}).catch(a=>{e({type:"GET_CUSTOMERS",payload:{error:"Error Connection"}})})},R=e=>a=>{k.a.post(x.login,e,L).then(e=>{a({type:"IS_LOGIN",payload:e.data})}).catch(e=>{a({type:"IS_LOGIN",payload:{error:"Error Connection"}})})},_=e=>a=>{k.a.post(x.registerWorker,e,L).then(e=>{a({type:"ADD_WORKER",payload:e.data})}).catch(e=>{a({type:"ADD_WORKER",payload:{error:"Error Connection"}})})};var P=t(261);const D=e=>{const a=window.location.href.substring(window.location.href.lastIndexOf("/")+1);return r.a.createElement(P.a,null,r.a.createElement(P.a.Item,null,r.a.createElement(E.b,{to:"/dashboard"},"Home")),"home"!==a&&r.a.createElement(P.a.Item,null,r.a.createElement(E.b,{className:"text-capitalize",to:a},a)))};var T=t(8),M=t(30),A=t(51),G=t.n(A);const z={headCells:{style:{background:"#333",color:"#fff","&:hover":{cursor:"pointer",color:"#fff"}}}},U=[{name:"Name",selector:"name",sortable:!0},{name:"Email",selector:"email",sortable:!0},{name:"Mobile",selector:"mobile",sortable:!0},{name:"Status",selector:"status",sortable:!0}];class W extends l.Component{constructor(e){super(e),this.viewPage=e=>{e&&this.props.history.push(e)},this.state={customerList:[]}}componentDidMount(e,a){this.props.getCustomer()}componentDidUpdate(e){}render(){const e=this.props.customerList;return r.a.createElement(w.a,{fluid:!0},r.a.createElement("section",{className:"content-header"},r.a.createElement(O.a,null,r.a.createElement(C.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Add Customer"),r.a.createElement(D,null)))),r.a.createElement(O.a,{className:"mt-3"},r.a.createElement("div",{className:"widget_board",onClick:()=>this.viewPage("/dashboard/add-customer")},r.a.createElement("div",{className:"widget_row"},r.a.createElement("div",{className:"img_block  bg_red"},r.a.createElement(M.a,{icon:T.i,size:"6x"})),r.a.createElement("div",{className:"content_block"},r.a.createElement("h3",{className:"wid-board-name"},"Add Customer")))),r.a.createElement("div",{className:"widget_board "},r.a.createElement("div",{className:"widget_row"},r.a.createElement("div",{className:"img_block bg_blue"},r.a.createElement(M.a,{icon:T.h,size:"6x"})),r.a.createElement("div",{className:"content_block"},r.a.createElement("h3",{className:"wid-board-name"},"Edit Customer")))),r.a.createElement("div",{className:"widget_board",onClick:()=>this.viewPage("/dashboard/customer-list")},r.a.createElement("div",{className:"widget_row"},r.a.createElement("div",{className:"img_block bg_green"},r.a.createElement(M.a,{icon:T.a,size:"6x"})),r.a.createElement("div",{className:"content_block"},r.a.createElement("h3",{className:"wid-board-name"}," Customer Status"))))),r.a.createElement(O.a,{className:"mt-4"},r.a.createElement(C.a,null,r.a.createElement(y.a,{className:"box"},r.a.createElement("h3",null,"Customer Lists"),r.a.createElement(G.a,{columns:U,data:e,customStyles:z,pagination:!0,paginationPerPage:5,paginationRowsPerPageOptions:[5,10,15,20,25,30]})))))}}var F=Object(o.b)(e=>(console.log(e.appReducer.customerList),{product:e.appReducer,customerList:e.appReducer.customerList}),e=>Object(s.b)({getCustomer:I},e))(W),q=t(20),B=t(120),H=t(258);var J=Object(o.b)(e=>Object(i.a)({},e.appReducer),null)(e=>{const a=Object(l.useState)([]),t=Object(q.a)(a,2),n=t[0],c=t[1];return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement(O.a,null,r.a.createElement(C.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Add Customer"),r.a.createElement(D,null)))),r.a.createElement(H.a,null,r.a.createElement(H.a.Group,{as:O.a,controlId:"formHorizontalEmail"},r.a.createElement(C.a,{sm:"12",className:"mt-3 mb-3"},r.a.createElement("h4",{className:"text-left"},"Customer Details")),r.a.createElement(C.a,{sm:4},r.a.createElement(H.a.Control,{type:"text",placeholder:"Customer Name"})),r.a.createElement(C.a,{sm:4},r.a.createElement(H.a.Control,{type:"text",placeholder:"Customer Contact Number"})),r.a.createElement(C.a,{sm:4},r.a.createElement(H.a.Control,{type:"text",placeholder:"Order Number"}))),r.a.createElement(H.a.Group,{as:O.a,controlId:"formHorizontalEmail"},r.a.createElement(C.a,{sm:4},r.a.createElement(B.a,{options:[{label:"Sofa",value:"sofa"},{label:"Chair",value:"chair"}],value:n,onChange:c,labelledBy:"Select Products"}))),0!==n.length&&n.map(e=>r.a.createElement(H.a.Group,{as:O.a,controlId:"formHorizontalEmail"},r.a.createElement(C.a,{sm:"12",className:"mt-3 mb-3"},r.a.createElement("h4",{className:"text-left"},"Product Details")),r.a.createElement(C.a,{sm:2},r.a.createElement("b",null,e.name)),r.a.createElement(C.a,{sm:4},r.a.createElement(H.a.Control,{as:"select",size:"sm"},r.a.createElement("option",null,"Elizabeth"),r.a.createElement("option",null,"Elizabeth"),r.a.createElement("option",null,"Elizabeth"))),r.a.createElement(C.a,{sm:12},r.a.createElement("ul",{className:"productLists"},r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"test",value:"test"})," Test"),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"test",value:"test"})," Test"),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"test",value:"test"})," Test"),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"test",value:"test"})," Test")))))))});const K={headCells:{style:{background:"#333",color:"#fff","&:hover":{cursor:"pointer",color:"#fff"}}}},V=[{name:"Name",selector:"name",sortable:!0},{name:"Email",selector:"email",sortable:!0},{name:"Mobile",selector:"mobile",sortable:!0},{name:"Status",selector:"status",sortable:!0}];var Q=Object(o.b)(e=>({product:e.appReducer,customerList:e.appReducer.customerList}),e=>Object(s.b)({getCustomer:I},e))(e=>{const a=Object(l.useState)(!1),t=Object(q.a)(a,2),n=t[0],c=t[1],o=Object(l.useState)([]),s=Object(q.a)(o,2),m=s[0],d=s[1],u=Object(l.useState)({}),p=Object(q.a)(u,2),E=(p[0],p[1]);Object(l.useEffect)(()=>{d(e.product.customerList)},[]);const b=({data:e})=>r.a.createElement(l.Fragment,null,r.a.createElement(H.a,{className:"editableForm mt-2 mb-2"},r.a.createElement(H.a.Group,{as:O.a},r.a.createElement(C.a,{sm:4,className:"text-left"},r.a.createElement(H.a.Label,null,"Name :"),r.a.createElement(H.a.Control,{type:"text",value:e.name})),r.a.createElement(C.a,{sm:4,className:"text-left"},r.a.createElement(H.a.Label,null,"Email Id :"),r.a.createElement(H.a.Control,{type:"text",value:e.email})),r.a.createElement(C.a,{sm:4,className:"text-left"},r.a.createElement(H.a.Label,null,"Mobile No :"),r.a.createElement(H.a.Control,{type:"text",value:e.mobile})))));return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement(O.a,null,r.a.createElement(C.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Add Customer"),r.a.createElement(D,null))),r.a.createElement(O.a,null,r.a.createElement(C.a,{className:"p-3"},r.a.createElement(G.a,{columns:V,data:m,customStyles:K,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,15,20,25,30],onSelectedRowsChange:e=>{E(Object(i.a)({},e.selectedRows[0])),c(!n)},expandableRows:!0,expandableRowsComponent:r.a.createElement(b,null)})))))}),X=t(59),Y=t(256),Z=t(36);class $ extends l.Component{constructor(e){super(e),this.renderRedirect=()=>{let e=this.props.product.userDetails,a=e.meta,t=e.output;if("success"!==a.message)return r.a.createElement(b.a,{to:"/"});localStorage.setItem("accessToken",t.token),this.setState({isLoggedIn:!0})},this.checkStorage=()=>{let e=localStorage.getItem("accessToken");return e&&this.setState({isLoggedIn:!0}),e&&r.a.createElement(b.a,{to:"/"})},this.login=e=>{this.props.login(e)},this.state={isLoggedIn:!1,error:""}}static getDerivedStateFromProps(e,a){return e.product&&e.product.message!==a.error?{error:e.product.message}:null}componentDidMount(){this.checkPagePath()}componentDidUpdate(){this.renderRedirect()}checkPagePath(){"/logout"===window.location.pathname&&(localStorage.clear(),window.location.pathname="/login")}render(){const e=this.state.isLoggedIn;return r.a.createElement(w.a,null,e&&this.checkStorage(),r.a.createElement(O.a,{className:"justify-content-md-center rows"},r.a.createElement("div",{id:"formContent"},r.a.createElement(C.a,{xs:"12",lg:"12"},r.a.createElement("h2",{className:"text-center"},"Login"),r.a.createElement("hr",null)),r.a.createElement(C.a,{xs:"12",lg:"12"},r.a.createElement(Z.d,{className:"loginForm",initialValues:{username:"",password:""},validationSchema:X.a().shape({username:X.b().required("usernameis required").required("username is required"),password:X.b().required("Password is required")}),onSubmit:e=>{this.login(e)},render:({errors:e,status:a,touched:t})=>r.a.createElement(Z.c,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"}," Username ")," ",r.a.createElement(Z.b,{name:"username",type:"text",className:"form-control"+(e.username&&t.username?" is-invalid":"")})," ",r.a.createElement(Z.a,{name:"username",component:"div",className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"}," Password ")," ",r.a.createElement(Z.b,{name:"password",type:"password",className:"form-control"+(e.password&&t.password?" is-invalid":"")})," ",r.a.createElement(Z.a,{name:"password",component:"div",className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group"},r.a.createElement(Y.a,{type:"submit",variant:"primary",size:"lg",block:!0}," ","Login"," ")," ",r.a.createElement("p",{className:"error"}," ",this.state.error?this.state.error:null," ")))}))," "))," ")}}var ee=Object(o.b)(e=>({product:e.appReducer}),e=>Object(s.b)({login:R},e))($);var ae=()=>r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement(O.a,null,r.a.createElement(C.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Edit Stages"),r.a.createElement(D,null))),r.a.createElement(O.a,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Group,null)))));var te=Object(o.b)(e=>Object(i.a)({},e.appReducer),e=>Object(s.b)({registerWorker:_},e))(e=>(Object(l.useEffect)(()=>{},[]),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement(O.a,null,r.a.createElement(C.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Add Worker"),r.a.createElement(D,null))),r.a.createElement(O.a,null,r.a.createElement(C.a,{sm:"6",md:"6"},r.a.createElement(H.a,null,r.a.createElement(H.a.Group,{controlId:"formBasicEmail"},r.a.createElement(H.a.Label,null,"Username"),r.a.createElement(H.a.Control,{type:"text",placeholder:"Enter name"})),r.a.createElement(H.a.Group,{controlId:"formBasicPassword"},r.a.createElement(H.a.Label,null,"Role"),r.a.createElement(H.a.Control,{as:"select",size:"lg"},r.a.createElement("option",{value:"admin"},"Admin"),r.a.createElement("option",{value:"worker"},"Worker"))),r.a.createElement(Y.a,{variant:"primary",type:"submit"},"Submit"))),r.a.createElement(C.a,{sm:"6",md:"6"}))))));const le=[{path:"/",component:F,name:"Dashboard",icon:T.g,hideMenu:!0},{path:"/dashboard",component:F,name:"Dashboard",icon:T.g,hideMenu:!1},{path:"/dashboard/add-customer",component:J,name:"Add Customer",icon:T.d,hideMenu:!1},{path:"/dashboard/customer-list",component:Q,name:"Customer List",icon:T.c,hideMenu:!1},{path:"/update-stages",component:ae,name:"Update Stages",icon:T.f,hideMenu:!1,role:"admin"},{path:"/add-worker",component:te,name:"Add Worker",icon:T.f,hideMenu:!1,role:"admin"},{path:"/logout",component:ee,name:"LogOut",icon:T.f,hideMenu:!1}],re=[{path:"/dashboard",name:"Dashboard",icon:T.g,role:"worker"},{path:"/dashboard/add-customer",component:J,name:"Add Customer",icon:T.d,role:"worker"},{path:"/dashboard/customer-list",component:Q,name:"Customer List",icon:T.c,role:"worker"},{path:"/update-stages",component:ae,name:"Update Stages",icon:T.b,role:"admin"},{path:"/add-worker",component:te,name:"Add Worker",icon:T.e,role:"admin"},{path:"/logout",component:ee,name:"LogOut",icon:T.f,role:"worker"}];var ne=Object(o.b)(e=>Object(i.a)({},e.appReducer),e=>Object(s.b)({},e))(e=>{const a=localStorage.getItem("role"),t=localStorage.getItem("username");return Object(l.useEffect)(()=>{e.userDetails&&(localStorage.setItem("username",e.userDetails.output.username),localStorage.setItem("role",e.userDetails.output.role))},[]),r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"user-panel"},r.a.createElement("div",{className:"pull-left image"},r.a.createElement("img",{src:"http://via.placeholder.com/160x160",className:"rounded-circle",alt:"User Image"})),r.a.createElement("div",{className:"pull-left info"},r.a.createElement(E.b,{to:"/"},r.a.createElement("i",{className:"fa fa-circle text-success"})," ",r.a.createElement("h4",{className:"userName"}," ",t," ")))),r.a.createElement("ul",{className:"list-sidebar bg-default"},re.map((e,t)=>(console.log(e.role===a,a),"admin"===a&&"worker"===e.role?r.a.createElement("li",{key:t},r.a.createElement(E.b,{to:{pathname:e.path}},"  ",r.a.createElement("span",null," ",r.a.createElement(M.a,{icon:e.icon}),"  "),e.name," ")):a===e.role?r.a.createElement("li",{key:t},r.a.createElement(E.b,{to:{pathname:e.path}},"  ",r.a.createElement("span",null," ",r.a.createElement(M.a,{icon:e.icon}),"  "),"  ",e.name," ")):void 0))))});const ce=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(f,null),r.a.createElement(ne,null),r.a.createElement(b.d,null,le.map(e=>r.a.createElement(b.b,{path:e.path,component:e.component,exact:!0}))))),oe=e=>r.a.createElement(E.a,null,r.a.createElement(g,{path:"/",component:ce,exact:!0}),r.a.createElement(b.b,{path:"/login",exact:!0,component:ee}),r.a.createElement(b.a,{from:"*",to:"/"})),se=()=>r.a.createElement(o.a,{store:p},r.a.createElement(oe,null)),me=document.getElementById("root");c.a.render(r.a.createElement(se,null),me)}},[[121,1,2]]]);
//# sourceMappingURL=main.bdf21618.chunk.js.map