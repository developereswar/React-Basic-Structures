(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{131:function(e,a,t){e.exports=t(262)},136:function(e,a,t){},262:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(33),c=t.n(l),o=(t(136),t(137),t(22)),s=t(16),m=t(117),i=t(23),u=t(19),d={productTypes:[{name:"Sofa",id:1},{name:"Table",id:2},{name:"Chari",id:3}]},p=Object(s.c)({appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CUSTOMERS":return e.customerList=Object(u.a)(a.payload),Object(i.a)({},e);case"IS_LOGIN":return e.userDetails=Object(i.a)({},a.payload),Object(i.a)({},e);case"PRODUCT_CATEGORIES":default:return Object(i.a)({},e)}}}),E=Object(s.d)(p,Object(s.a)(m.a)),b=t(15),f=t(9),h=t(129),g=function(e){var a=e.component,t=Object(h.a)(e,["component"]);return r.a.createElement("div",{className:"App"},r.a.createElement(f.b,Object.assign({},t,{render:function(e){return localStorage.getItem("accessToken")?r.a.createElement(a,e):r.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}})))},v=t(267),N=t(269);function O(){var e=localStorage.getItem("accessToken");Object(f.g)();return e&&r.a.createElement(v.a,{expand:"lg",className:"bg_blue"},r.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},r.a.createElement(N.a,null,r.a.createElement(N.a.Link,null,"My Profile"))))}var w=t(6),y=t(7),C=t(11),j=t(12),S=t(264),k=t(265),x=t(123),L=t(270),I=t(83),_=t.n(I),P="http://localhost:8080/api/v1",R={login:"".concat(P,"/login"),customerLists:"".concat(P,"/customer_lists")},T={headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}},D=function(){return function(e){_.a.get(R.customerLists).then((function(a){e({type:"GET_CUSTOMERS",payload:a.data})})).catch((function(a){e({type:"GET_CUSTOMERS",payload:{error:"Error Connection"}})}))}},M=function(e){return function(a){_.a.post(R.login,e,T).then((function(e){a({type:"IS_LOGIN",payload:e.data})})).catch((function(e){a({type:"IS_LOGIN",payload:{error:"Error Connection"}})}))}},z=t(271),G=function(e){var a=window.location.href.substring(window.location.href.lastIndexOf("/")+1);return r.a.createElement(z.a,null,r.a.createElement(z.a.Item,null,r.a.createElement(b.b,{to:"/dashboard"},"Home")),"home"!==a&&r.a.createElement(z.a.Item,null,r.a.createElement(b.b,{className:"text-capitalize",to:a},a)))},U=t(14),A=t(36),F=t(62),q=t.n(F),H={headCells:{style:{background:"#333",color:"#fff","&:hover":{cursor:"pointer",color:"#fff"}}}},B=[{name:"Name",selector:"name",sortable:!0},{name:"Email",selector:"email",sortable:!0},{name:"Mobile",selector:"mobile",sortable:!0},{name:"Status",selector:"status",sortable:!0}],J=function(e){Object(C.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(w.a)(this,t),(n=a.call(this,e)).viewPage=function(e){e&&n.props.history.push(e)},n.state={customerList:[]},n}return Object(y.a)(t,[{key:"componentDidMount",value:function(e,a){this.props.getCustomer()}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this,a=this.props.customerList;return r.a.createElement(S.a,{fluid:!0},r.a.createElement("section",{className:"content-header"},r.a.createElement(k.a,null,r.a.createElement(x.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Add Customer"),r.a.createElement(G,null)))),r.a.createElement(k.a,{className:"mt-3"},r.a.createElement("div",{className:"widget_board",onClick:function(){return e.viewPage("/dashboard/add-customer")}},r.a.createElement("div",{className:"widget_row"},r.a.createElement("div",{className:"img_block  bg_red"},r.a.createElement(A.a,{icon:U.h,size:"6x"})),r.a.createElement("div",{className:"content_block"},r.a.createElement("h3",{className:"wid-board-name"},"Add Customer")))),r.a.createElement("div",{className:"widget_board "},r.a.createElement("div",{className:"widget_row"},r.a.createElement("div",{className:"img_block bg_blue"},r.a.createElement(A.a,{icon:U.g,size:"6x"})),r.a.createElement("div",{className:"content_block"},r.a.createElement("h3",{className:"wid-board-name"},"Edit Customer")))),r.a.createElement("div",{className:"widget_board",onClick:function(){return e.viewPage("/dashboard/customer-list")}},r.a.createElement("div",{className:"widget_row"},r.a.createElement("div",{className:"img_block bg_green"},r.a.createElement(A.a,{icon:U.a,size:"6x"})),r.a.createElement("div",{className:"content_block"},r.a.createElement("h3",{className:"wid-board-name"}," Customer Status"))))),r.a.createElement(k.a,{className:"mt-4"},r.a.createElement(x.a,null,r.a.createElement(L.a,{className:"box"},r.a.createElement("h3",null,"Customer Lists"),r.a.createElement(q.a,{columns:B,data:a,customStyles:H,pagination:!0,paginationPerPage:5,paginationRowsPerPageOptions:[5,10,15,20,25,30]})))))}}]),t}(n.Component),V=Object(o.b)((function(e){return console.log(e.appReducer.customerList),{product:e.appReducer,customerList:e.appReducer.customerList}}),(function(e){return Object(s.b)({getCustomer:D},e)}))(J),K=t(26),Q=t(130),W=t(268),X=Object(o.b)((function(e){return Object(i.a)({},e.appReducer)}),null)((function(e){var a=Object(n.useState)([]),t=Object(K.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement(k.a,null,r.a.createElement(x.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Add Customer"),r.a.createElement(G,null)))),r.a.createElement(W.a,null,r.a.createElement(W.a.Group,{as:k.a,controlId:"formHorizontalEmail"},r.a.createElement(x.a,{sm:"12",className:"mt-3 mb-3"},r.a.createElement("h4",{className:"text-left"},"Customer Details")),r.a.createElement(x.a,{sm:4},r.a.createElement(W.a.Control,{type:"text",placeholder:"Customer Name"})),r.a.createElement(x.a,{sm:4},r.a.createElement(W.a.Control,{type:"text",placeholder:"Customer Contact Number"})),r.a.createElement(x.a,{sm:4},r.a.createElement(W.a.Control,{type:"text",placeholder:"Order Number"}))),r.a.createElement(W.a.Group,{as:k.a,controlId:"formHorizontalEmail"},r.a.createElement(x.a,{sm:4},r.a.createElement(Q.a,{options:[{label:"Sofa",value:"sofa"},{label:"Chair",value:"chair"}],value:l,onChange:c,labelledBy:"Select Products"}))),0!==l.length&&l.map((function(e){return r.a.createElement(W.a.Group,{as:k.a,controlId:"formHorizontalEmail"},r.a.createElement(x.a,{sm:"12",className:"mt-3 mb-3"},r.a.createElement("h4",{className:"text-left"},"Product Details")),r.a.createElement(x.a,{sm:2},r.a.createElement("b",null,e.name)),r.a.createElement(x.a,{sm:4},r.a.createElement(W.a.Control,{as:"select",size:"sm"},r.a.createElement("option",null,"Elizabeth"),r.a.createElement("option",null,"Elizabeth"),r.a.createElement("option",null,"Elizabeth"))),r.a.createElement(x.a,{sm:12},r.a.createElement("ul",{className:"productLists"},r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"test",value:"test"})," Test"),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"test",value:"test"})," Test"),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"test",value:"test"})," Test"),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",name:"test",value:"test"})," Test"))))}))))})),Y={headCells:{style:{background:"#333",color:"#fff","&:hover":{cursor:"pointer",color:"#fff"}}}},Z=[{name:"Name",selector:"name",sortable:!0},{name:"Email",selector:"email",sortable:!0},{name:"Mobile",selector:"mobile",sortable:!0},{name:"Status",selector:"status",sortable:!0}],$=Object(o.b)((function(e){return{product:e.appReducer,customerList:e.appReducer.customerList}}),(function(e){return Object(s.b)({getCustomer:D},e)}))((function(e){var a=Object(n.useState)(!1),t=Object(K.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)([]),s=Object(K.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)({}),p=Object(K.a)(d,2),E=(p[0],p[1]);Object(n.useEffect)((function(){u(e.product.customerList)}),[]);var b=function(e){var a=e.data;return r.a.createElement(n.Fragment,null,r.a.createElement(W.a,{className:"editableForm mt-2 mb-2"},r.a.createElement(W.a.Group,{as:k.a},r.a.createElement(x.a,{sm:4,className:"text-left"},r.a.createElement(W.a.Label,null,"Name :"),r.a.createElement(W.a.Control,{type:"text",value:a.name})),r.a.createElement(x.a,{sm:4,className:"text-left"},r.a.createElement(W.a.Label,null,"Email Id :"),r.a.createElement(W.a.Control,{type:"text",value:a.email})),r.a.createElement(x.a,{sm:4,className:"text-left"},r.a.createElement(W.a.Label,null,"Mobile No :"),r.a.createElement(W.a.Control,{type:"text",value:a.mobile})))))};return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement(k.a,null,r.a.createElement(x.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Add Customer"),r.a.createElement(G,null))),r.a.createElement(k.a,null,r.a.createElement(x.a,{className:"p-3"},r.a.createElement(q.a,{columns:Z,data:m,customStyles:Y,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,15,20,25,30],onSelectedRowsChange:function(e){E(Object(i.a)({},e.selectedRows[0])),c(!l)},expandableRows:!0,expandableRowsComponent:r.a.createElement(b,null)})))))})),ee=t(68),ae=t(266),te=t(41),ne=function(e){Object(C.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(w.a)(this,t),(n=a.call(this,e)).renderRedirect=function(){var e=n.props.product.userDetails,a=e.meta,t=e.output;if("success"!==a.message)return r.a.createElement(f.a,{to:"/"});localStorage.setItem("accessToken",t.token),n.setState({isLoggedIn:!0})},n.checkStorage=function(){var e=localStorage.getItem("accessToken");return e&&n.setState({isLoggedIn:!0}),e&&r.a.createElement(f.a,{to:"/"})},n.login=function(e){n.props.login(e)},n.state={isLoggedIn:!1,error:""},n}return Object(y.a)(t,[{key:"componentDidMount",value:function(){this.checkPagePath()}},{key:"componentDidUpdate",value:function(){this.renderRedirect()}},{key:"checkPagePath",value:function(){"/logout"===window.location.pathname&&(localStorage.clear(),window.location.pathname="/login")}},{key:"render",value:function(){var e=this,a=this.state.isLoggedIn;return r.a.createElement(S.a,null,a&&this.checkStorage(),r.a.createElement(k.a,{className:"justify-content-md-center rows"},r.a.createElement("div",{id:"formContent"},r.a.createElement(x.a,{xs:"12",lg:"12"},r.a.createElement("h2",{className:"text-center"},"Login"),r.a.createElement("hr",null)),r.a.createElement(x.a,{xs:"12",lg:"12"},r.a.createElement(te.d,{className:"loginForm",initialValues:{username:"",password:""},validationSchema:ee.a().shape({username:ee.b().required("usernameis required").required("username is required"),password:ee.b().required("Password is required")}),onSubmit:function(a){e.login(a)},render:function(a){var t=a.errors,n=(a.status,a.touched);return r.a.createElement(te.c,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"}," Username ")," ",r.a.createElement(te.b,{name:"username",type:"text",className:"form-control"+(t.username&&n.username?" is-invalid":"")})," ",r.a.createElement(te.a,{name:"username",component:"div",className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"}," Password ")," ",r.a.createElement(te.b,{name:"password",type:"password",className:"form-control"+(t.password&&n.password?" is-invalid":"")})," ",r.a.createElement(te.a,{name:"password",component:"div",className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ae.a,{type:"submit",variant:"primary",size:"lg",block:!0}," ","Login"," ")," ",r.a.createElement("p",{className:"error"}," ",e.state.error?e.state.error:null," ")))}}))," "))," ")}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.product&&e.product.message!==a.error?{error:e.product.message}:null}}]),t}(n.Component),re=Object(o.b)((function(e){return{product:e.appReducer}}),(function(e){return Object(s.b)({login:M},e)}))(ne),le=function(){return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement(k.a,null,r.a.createElement(x.a,{className:"p-3"},r.a.createElement("h3",{className:"text-left"},"Edit Stages"),r.a.createElement(G,null))),r.a.createElement(k.a,null,r.a.createElement(W.a,null,r.a.createElement(W.a.Group,null)))))},ce=[{path:"/",component:V,name:"Dashboard",icon:U.f,hideMenu:!0},{path:"/dashboard",component:V,name:"Dashboard",icon:U.f,hideMenu:!1},{path:"/dashboard/add-customer",component:X,name:"Add Customer",icon:U.d,hideMenu:!1},{path:"/dashboard/customer-list",component:$,name:"Customer List",icon:U.c,hideMenu:!1},{path:"/update-stages",component:le,name:"Update Stages",icon:U.e,hideMenu:!1,role:"admin"},{path:"/logout",component:re,name:"LogOut",icon:U.e,hideMenu:!1}],oe=[{path:"/dashboard",name:"Dashboard",icon:U.f,role:"worker"},{path:"/dashboard/add-customer",component:X,name:"Add Customer",icon:U.d,role:"worker"},{path:"/dashboard/customer-list",component:$,name:"Customer List",icon:U.c,role:"worker"},{path:"/update-stages",component:le,name:"Update Stages",icon:U.b,role:"admin"},{path:"/logout",component:re,name:"LogOut",icon:U.e,role:"worker"}],se=Object(o.b)((function(e){return Object(i.a)({},e.appReducer)}),(function(e){return Object(s.b)({},e)}))((function(e){var a=localStorage.getItem("role"),t=localStorage.getItem("username");return Object(n.useEffect)((function(){e.userDetails&&(localStorage.setItem("username",e.userDetails.output.username),localStorage.setItem("role",e.userDetails.output.role))}),[]),r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"user-panel"},r.a.createElement("div",{className:"pull-left image"},r.a.createElement("img",{src:"http://via.placeholder.com/160x160",className:"rounded-circle",alt:"User Image"})),r.a.createElement("div",{className:"pull-left info"},r.a.createElement(b.b,{to:"/"},r.a.createElement("i",{className:"fa fa-circle text-success"})," ",r.a.createElement("h4",{className:"userName"}," ",t," ")))),r.a.createElement("ul",{className:"list-sidebar bg-default"},oe.map((function(e,t){return console.log(e.role===a,a),"admin"===a&&"worker"===e.role?r.a.createElement("li",{key:t},r.a.createElement(b.b,{to:{pathname:e.path}},"  ",r.a.createElement("span",null," ",r.a.createElement(A.a,{icon:e.icon}),"  "),e.name," ")):a===e.role?r.a.createElement("li",{key:t},r.a.createElement(b.b,{to:{pathname:e.path}},"  ",r.a.createElement("span",null," ",r.a.createElement(A.a,{icon:e.icon}),"  "),"  ",e.name," ")):void 0}))))})),me=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(O,null),r.a.createElement(se,null),r.a.createElement(f.d,null,ce.map((function(e){return r.a.createElement(f.b,{path:e.path,component:e.component,exact:!0})})))))},ie=function(e){return r.a.createElement(b.a,null,r.a.createElement(g,{path:"/",component:me,exact:!0}),r.a.createElement(f.b,{path:"/login",exact:!0,component:re}),r.a.createElement(f.a,{from:"*",to:"/"}))},ue=function(){return r.a.createElement(o.a,{store:E},r.a.createElement(ie,null))},de=document.getElementById("root");c.a.render(r.a.createElement(ue,null),de)}},[[131,1,2]]]);
//# sourceMappingURL=main.a011232b.chunk.js.map